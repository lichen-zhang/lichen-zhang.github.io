{"version":3,"sources":["webpack:///./src/static/line/xaiochouyu.png","webpack:///./src/views/seas/Xaiochouyu.vue?4b11","webpack:///src/views/seas/Xaiochouyu.vue","webpack:///./src/views/seas/Xaiochouyu.vue?db8c","webpack:///./src/views/seas/Xaiochouyu.vue","webpack:///./src/views/seas/Xaiochouyu.vue?9b00"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","beginPath","staticStyle","ref","attrs","gotosence","_e","windowWidth","windowHeight","canvasDown","canvasUp","canvasMove","gotoliven","style","btnbgcolor","gotopen","directives","name","rawName","value","config","lineWidth","expression","gotocolor","_l","control","key","id","class","className","title","controlCanvas","action","img","pen","setBrush","item","lineColor","background","setColor","imgUrl","src","removeImg","_v","staticRenderFns","$router","push","clientId","enable","w","H","h","x","W","y","component"],"mappings":"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","file":"js/chunk-72dd66f3.bd138200.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/xaiochouyu.f801428d.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inner draw\",on:{\"mousemove\":function($event){return _vm.beginPath($event)}}},[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('img',{ref:\"conf0\",attrs:{\"src\":require(\"../../static/line/xaiochouyu.png\"),\"width\":\"50\",\"height\":\"50\"}})]),(_vm.f1)?_c('div',{staticClass:\"return\",on:{\"click\":function($event){return _vm.gotosence()}}},[_c('img',{attrs:{\"src\":require(\"../../static/main/return.png\"),\"alt\":\"\"}})]):_vm._e(),_c('canvas',{staticClass:\"fl\",attrs:{\"id\":\"canvas\",\"width\":_vm.windowWidth>_vm.windowHeight?_vm.windowWidth:_vm.windowHeight,\"height\":_vm.windowHeight<_vm.windowWidth?_vm.windowHeight:_vm.windowWidth},on:{\"mousedown\":function($event){return _vm.canvasDown($event)},\"mouseup\":function($event){return _vm.canvasUp($event)},\"mousemove\":function($event){return _vm.canvasMove($event)},\"touchstart\":function($event){return _vm.canvasDown($event)},\"touchend\":function($event){return _vm.canvasUp($event)},\"touchmove\":function($event){return _vm.canvasMove($event)}}}),(_vm.f1)?_c('div',{staticClass:\"f2\",attrs:{\"id\":\"control\"}},[_c('div',{staticClass:\"canvas-color-control\",attrs:{\"id\":\"canvas-color\"},on:{\"click\":function($event){return _vm.gotoliven()}}},[_c('img',{attrs:{\"src\":require(\"../../static/graffiti/tools/liven(1).png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"canvas-color-control\",style:({'background-color':_vm.btnbgcolor}),attrs:{\"id\":\"canvas-brush\"},on:{\"click\":function($event){return _vm.gotopen()}}},[_c('div',{staticClass:\"canvas-color-control-bg\",style:({'background-color':_vm.btnbgcolor})},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.config.lineWidth === 2),expression:\"config.lineWidth === 2\"}],attrs:{\"src\":require(\"../../static/graffiti/pen/pen2.png\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.config.lineWidth === 18),expression:\"config.lineWidth === 18\"}],attrs:{\"src\":require(\"../../static/graffiti/pen/pen1.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"canvas-color-control\",style:({'background-color':_vm.btnbgcolor}),attrs:{\"id\":\"canvas-color\"},on:{\"click\":function($event){return _vm.gotocolor()}}},[_c('div',{staticClass:\"canvas-color-control-bg\",style:({'background-color':_vm.btnbgcolor})})]),_c('div',{attrs:{\"id\":\"canvas-control\"}},_vm._l((_vm.controls),function(control){return _c('span',{key:control.id,class:control.className,attrs:{\"title\":control.title},on:{\"click\":function($event){return _vm.controlCanvas(control.action)}}},[_c('img',{attrs:{\"src\":control.img,\"alt\":\"\"}})])}),0)]):_vm._e(),(_vm.showpen)?_c('div',{staticClass:\"f1\",attrs:{\"id\":\"control\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"},attrs:{\"id\":\"canvas-brush\"}},_vm._l((_vm.brushs),function(pen){return _c('span',{key:pen.id,class:[pen.className,{'active': _vm.config.lineWidth === pen.lineWidth}],on:{\"click\":function($event){return _vm.setBrush(pen.lineWidth)}}},[_c('img',{attrs:{\"src\":pen.img,\"alt\":\"\"}})])}),0)]):_vm._e(),(_vm.showcolor)?_c('div',{staticClass:\"f3\",attrs:{\"id\":\"control\"}},[_c('div',{staticClass:\"canvas-color-1\",attrs:{\"id\":\"canvas-color\"}},[_c('ul',_vm._l((_vm.colors),function(item){return _c('li',{key:item.id,class:{'active':_vm.config.lineColor === item},style:({ background: item }),on:{\"click\":function($event){return _vm.setColor(item)}}})}),0)])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imgUrl.length),expression:\"imgUrl.length\"}],attrs:{\"id\":\"img-box\"}},_vm._l((_vm.imgUrl),function(src){return _c('div',{key:src,staticClass:\"img-item\"},[_c('img',{attrs:{\"src\":src}}),_c('span',{staticClass:\"fa fa-close\",on:{\"click\":function($event){return _vm.removeImg(src)}}},[_vm._v(\"清空图片\")])])}),0),(_vm.show)?_c('div',{staticClass:\"liven\"},[_c('img',{attrs:{\"src\":\"https://xcx.newryun.com/media/static/graffiti/liven.png\",\"alt\":\"\"}})]):_vm._e(),_c('div',[_c('audio',{ref:\"shakeAudio\",attrs:{\"src\":require(\"../../static/voice/choose02.mp3\")}},[_vm._v(\" 您的浏览器不支持 audio 标签。 \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"inner draw\" @mousemove=\"beginPath($event)\">\r\n    <!-- <div class=\"wrap\"> -->\r\n      <!-- <img id=\"scream\" src=\"../../static/line/xiaochouyu.png\" width=\"50\" height=\"50\"> -->\r\n      <div style=\"display:none\">\r\n        <img ref=\"conf0\" src=\"../../static/line/xaiochouyu.png\" width=\"50\" height=\"50\">\r\n        <!-- <img ref=\"conf1\" src=\"../../static/board/fish 8.png\" width=\"50\" height=\"50\"> -->\r\n      </div>\r\n      <div class=\"return\" @click=\"gotosence()\" v-if=\"f1\">\r\n      <img src=\"../../static/main/return.png\" alt=\"\">\r\n      </div>\r\n      <canvas \r\n        id=\"canvas\" \r\n        class=\"fl\" \r\n        :width=\"windowWidth>windowHeight?windowWidth:windowHeight\"\r\n        :height=\"windowHeight<windowWidth?windowHeight:windowWidth\"\r\n        @mousedown=\"canvasDown($event)\" \r\n        @mouseup=\"canvasUp($event)\"\r\n        @mousemove=\"canvasMove($event)\"\r\n        @touchstart=\"canvasDown($event)\" \r\n        @touchend=\"canvasUp($event)\"\r\n        @touchmove=\"canvasMove($event)\"\r\n      >\r\n      </canvas>\r\n      \r\n      <div id=\"control\" class=\"f2\" v-if=\"f1\">\r\n        <!-- 变活 发图片 -->\r\n        <!-- <div id=\"canvas-drawImage\">\r\n          <div class=\"drawImage\" @click=\"gotoliven()\"><img src=\"../../static/graffiti/Liven up@3x.png\" alt=\"\"></div>\r\n          <div class=\"drawImage\" @click=\"getImage()\"><img src=\"../../static/graffiti/camera@3x.png\" alt=\"\"></div>\r\n        </div> -->\r\n        <!--新版变活-->\r\n        <div id=\"canvas-color\" class=\"canvas-color-control\" @click=\"gotoliven()\">\r\n          <img src=\"../../static/graffiti/tools/liven(1).png\" alt=\"\">\r\n        </div>\r\n        <!--画笔-->\r\n        <div id=\"canvas-brush\" class=\"canvas-color-control\" @click=\"gotopen()\" :style=\"{'background-color':btnbgcolor}\">\r\n          <div class=\"canvas-color-control-bg\" :style=\"{'background-color':btnbgcolor}\">\r\n            <img src=\"../../static/graffiti/pen/pen2.png\" alt=\"\" v-show=\"config.lineWidth === 2\">\r\n            <img src=\"../../static/graffiti/pen/pen1.png\" alt=\"\" v-show=\"config.lineWidth === 18\">\r\n          </div>\r\n        </div>\r\n        <!--画笔颜色-->\r\n        <div id=\"canvas-color\" class=\"canvas-color-control\" @click=\"gotocolor()\" :style=\"{'background-color':btnbgcolor}\">\r\n          <div class=\"canvas-color-control-bg\" :style=\"{'background-color':btnbgcolor}\">\r\n            \r\n          </div>\r\n        </div>\r\n        <!--操作-->\r\n        <div id=\"canvas-control\">\r\n          <span \r\n            v-for=\"control in controls\" \r\n            :title=\"control.title\"\r\n            :class=\"control.className\" \r\n            @click=\"controlCanvas(control.action)\"\r\n            v-bind:key=\"control.id\"\r\n          ><img :src=\"control.img\" alt=\"\"></span>\r\n        </div>\r\n      </div>\r\n      <div id=\"control\" class=\"f1\" v-if=\"showpen\">\r\n        <!--画笔-->\r\n        <div id=\"canvas-brush\" style=\"display: flex;flex-direction: column;\">\r\n          <span \r\n            v-for=\"pen in brushs\" \r\n            :class=\"[pen.className,{'active': config.lineWidth === pen.lineWidth}]\"\r\n            @click=\"setBrush(pen.lineWidth)\"\r\n            v-bind:key=\"pen.id\"\r\n          ><img :src=\"pen.img\" alt=\"\"></span>\r\n        </div>\r\n      </div>\r\n      <div id=\"control\" class=\"f3\" v-if=\"showcolor\">\r\n        <!-- 画笔颜色 -->\r\n        <div id=\"canvas-color\" class=\"canvas-color-1\">\r\n          <ul>\r\n            <li \r\n              v-for=\"item in colors\" \r\n              :class=\"{'active':config.lineColor === item}\"\r\n              :style=\"{ background: item }\" \r\n              @click=\"setColor(item)\"\r\n              v-bind:key=\"item.id\"\r\n            ></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    <!-- </div> -->\r\n    <!--存放图片-->\r\n    <div id=\"img-box\" v-show=\"imgUrl.length\">\r\n      <div class=\"img-item\" v-for=\"src in imgUrl\" v-bind:key=\"src\">\r\n        <img :src=\"src\">\r\n        <span class=\"fa fa-close\" @click=\"removeImg(src)\">清空图片</span>\r\n      </div>\r\n    </div>\r\n    <!-- <div style=\"position: absolute;left: 0;bottom: 0px;\">\r\n      <input type=\"file\" value=\"fileValue\" id=\"upImageFile\" @change=\"ImageToBase64\">\r\n      <img :src=\"iconBase64\" alt=\"\" width=\"200\"/>\r\n      <button>上传</button>\r\n    </div> -->\r\n    <div class=\"liven\"  v-if=\"show\">\r\n      <img src=\"https://xcx.newryun.com/media/static/graffiti/liven.png\" alt=\"\">\r\n    </div>\r\n    <!-- <div class=\"livenzhiti\"  v-if=\"show\">\r\n      <img src=\"../../static/graffiti/liven/livenzhiti.png\" alt=\"\">\r\n    </div> -->\r\n    <div>\r\n      <audio src=\"../../static/voice/choose02.mp3\" ref=\"shakeAudio\">\r\n        您的浏览器不支持 audio 标签。\r\n      </audio>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  @media screen and (orientation: portrait) {\r\n    \r\n    /* #canvas ,.inner.draw{\r\n    width: 100vw;\r\n    height: 100vh;\r\n    } */\r\n    /* .inner,.draw{\r\n    width: 100vw;\r\n    height: 100vh;\r\n    }  */\r\n    /* #canvas{\r\n      transform: translateX(-50%)!important;\r\n    } */\r\n  }\r\n  /* @media screen and (orientation: portrait) {\r\n    #canvas ,.inner.draw{\r\n      position: absolute;\r\n      width: 100vh;\r\n      height: 100vw;\r\n      top: 0;\r\n      left: 100vw;\r\n      -webkit-transform: rotate(90deg);\r\n      -moz-transform: rotate(90deg);\r\n      -ms-transform: rotate(90deg);\r\n      transform: rotate(90deg);\r\n      transform-origin: 0% 0%;\r\n    }\r\n  } */\r\n  @media screen and (min-width: 668px) {\r\n    .f2,.f1,.f3{\r\n      transform: translateY(-50%)scale(0.7)!important;\r\n    }\r\n    .f3,.f1{\r\n      right: 82px!important;\r\n    }\r\n  }\r\n  .inner,.draw{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  #canvas-drawImage{\r\n    display: flex;\r\n    flex: 1;\r\n  }\r\n  #canvas-drawImage div{\r\n    width: 28px;\r\n    line-height: 100%;\r\n  }\r\n  #control img{\r\n    width: 100%;\r\n  }\r\n  .fix-body {\r\n    position: fixed !important;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    overflow: hidden;\r\n  }\r\n  #img-box {\r\n    flex: 1;\r\n    padding: 10px;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n  #img-box .img-item {\r\n    position: relative;\r\n    display: inline-block;\r\n  }\r\n  #img-box .img-item .fa {\r\n    position: absolute;\r\n    cursor: none;\r\n    right: -48px;\r\n    top: 3px;\r\n    font-size: 12px;\r\n    font-weight: 1;\r\n    color: #ccc;\r\n  }\r\n  #img-box .img-item:hover .fa {\r\n    display: block;\r\n  }\r\n  #img-box .img-item .fa:hover {\r\n    color: #f2849e;\r\n  }\r\n  #img-box img {\r\n    border: 1px #ccc solid;\r\n    width: 90px;\r\n    height: 60px;\r\n    margin: 5px;\r\n  }\r\n  .f2{\r\n    position: absolute;\r\n    width: 83px;\r\n    height: 343px;\r\n    background-image: url('../../static/graffiti/tools/toolsbg.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    right: 10px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n  .f1{\r\n    position: absolute;\r\n    width: 85.5px;\r\n    height: 343px;\r\n    background-image: url('../../static/graffiti/pen/penbg.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    right: 102px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n  .f3{\r\n    position: absolute;\r\n    width: 249px;\r\n    height: 323px;\r\n    background-image: url('../../static/graffiti/color/colorbg.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    right: 102px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n  #canvas{\r\n    cursor: crosshair;\r\n    /* background-image: url('../../static/line/xiaochouyu.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%; */\r\n  }\r\n  .canvas-color-control{\r\n    width: 56px;\r\n    height: 56px;\r\n    margin: auto;\r\n    /* background-image: url('../../static/graffiti/tools/toolslan.png'); */\r\n    background-color: #E787B2;\r\n    border-radius: 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 30px;\r\n    margin-bottom: 36px;\r\n  }\r\n  .canvas-color-control-bg{\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #E787B2;\r\n    border-radius: 50%;\r\n    background-image: url('../../static/graffiti/tools/toolsgg.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /* font-weight: normal;\r\n    font-family: zhankuhappy;\r\n    font-size: 20px;\r\n    color: white;  */\r\n  }\r\n  .canvas-color-control-bg img{\r\n    width: 35px!important;\r\n    /* height: 17px; */\r\n    transform: rotate(90deg);\r\n  }\r\n  #canvas-color ul{\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 5.5px 9px 5.5px 4px;\r\n    box-sizing: border-box;\r\n    \r\n  }\r\n  #canvas-color ul li{\r\n    display: inherit;\r\n    width: 30px;\r\n    height: 30px;\r\n    /* border: 3px #fff solid; */\r\n    border-radius: 50%;\r\n    margin: 4.6px;\r\n    cursor: none;\r\n  }\r\n  .fa-reply{\r\n    margin-right: 1.5px;\r\n  }\r\n  .fa-share{\r\n    margin-left: 1.5px;\r\n  }\r\n  /* #canvas-color :active {\r\n    border: 1px solid #f2849e;\r\n  } */\r\n  #canvas-brush span{\r\n    /* display: inline-block;\r\n    width: 20px;\r\n    height: 15px;\r\n    margin-left: 10px;\r\n    cursor: none; */\r\n    display: inline-block;\r\n    width: 49px;\r\n    height: 30px;\r\n    margin-left: 22px;\r\n    cursor: none;\r\n    margin-top: 93px;\r\n  }\r\n  #canvas-brush span :active{\r\n    transform: scale(1.1);\r\n  }\r\n  /* #canvas-brush .small {\r\n    font-size: 12px;\r\n  }\r\n  #canvas-brush .middle {\r\n    font-size: 14px;\r\n  }\r\n  #canvas-brush .big {\r\n    font-size: 16px;\r\n  } */\r\n  #canvas-control{\r\n    position: absolute;\r\n    bottom: 18px;\r\n    left: 8.5px;\r\n  }\r\n  #canvas-control span{\r\n    display: inline-block;\r\n    width: 31.5px;\r\n    height: 31.5px;\r\n    cursor: none;\r\n  }\r\n  #canvas-control .active,\r\n  #canvas-brush .active {\r\n    color: #f2849e;\r\n  }\r\n  .drawImage {\r\n    padding: 15px 5px;\r\n  }\r\n  .liven{\r\n    position: absolute;\r\n    z-index: 999;\r\n    top: 100%;\r\n    /* background-image: url('../../static/graffiti/livenzhiti.png'); */\r\n  }\r\n  .livenzhiti{\r\n    position: absolute;\r\n    z-index: 999;\r\n    top: 80%;\r\n    animation-name: livenzhiti;\r\n    animation-duration: 3s;\r\n    animation-iteration-count: 1;\r\n    animation-direction: alternate;\r\n    animation-timing-function: ease;\r\n    animation-fill-mode:forwards\r\n  }\r\n  .liven,.liven img,.livenzhiti,.livenzhiti img{\r\n    width: 100%;\r\n  }\r\n  .liven{\r\n    animation-name: example;\r\n    animation-duration: 2s;\r\n    animation-iteration-count: 1;\r\n    animation-direction: alternate;\r\n    /* animation-timing-function: linear; */\r\n    animation-fill-mode:forwards;\r\n  }\r\n  @keyframes example {\r\n  0%   {top: 100%;}\r\n  100% {top: -205%;}\r\n  }\r\n  @keyframes livenzhiti {\r\n  0%   {top: 100%;transform: scale(0);}\r\n  100% {top: 35%;transform: scale(1) rotate(360deg);}\r\n  }\r\n  .return{\r\n  width: 64px;\r\n  height: 30px;\r\n  position: absolute;\r\n  left: 17px;\r\n  top: 17px;\r\n  /* display: none; */\r\n  z-index: 999;\r\n  }\r\n  .return img{\r\n    width: 100%;\r\n  }\r\n</style>\r\n\r\n<script>\r\n// import html2canvas from 'html2canvas'\r\n  import ccApp from \"@swaiot/jssdk\";\r\n\r\n  const channel = ccApp.requireModule(\"channel\");\r\n  const account = ccApp.requireModule(\"account\");\r\n  export default {\r\n    data () {\r\n      return {\r\n        colors: ['#E05047', '#E17048', '#E8B559', '#92D14F', '#9FF3FD', '#726FFE','#719939','#70CED8','#3D3BA9','#E78D8C','#E8A885','#F2D68D','#ACDBE1','#B89AE0','#FBE76A','#7AD26E','#3F9FAD','#E07BE5','#AB345E','#BE9345','#CECE5C','#49864A','#2F5F75','#8556CA'],\r\n        brushs: [{\r\n                  className: 'small fa fa-paint-brush',\r\n                  img:require(\"../../static/graffiti/pen/pen2.png\"),\r\n                  lineWidth: 2\r\n                }, {\r\n                  className: 'middle fa fa-paint-brush',\r\n                  img:require(\"../../static/graffiti/pen/pen1.png\"),\r\n                  lineWidth: 18\r\n                }],\r\n        context: {},\r\n        imgUrl: [],\r\n        show: false,\r\n        showpen: false,\r\n        showcolor: false,\r\n        f1:true,\r\n        btnbgcolor:'',\r\n        btnbgbrush:'',\r\n        fish:this.$route.query,\r\n        windowWidth: document.documentElement.clientWidth,  //实时屏幕宽度\r\n        windowHeight: document.documentElement.clientHeight,   //实时屏幕高度\r\n        iconBase64: \"\",\r\n        canvasMoveUse: false,\r\n        // 存储当前表面状态数组-上一步\r\n        preDrawAry: [],\r\n        // 存储当前表面状态数组-下一步\r\n        nextDrawAry: [],\r\n        // 中间数组\r\n        middleAry: [],\r\n        // 配置参数\r\n        config: {\r\n          lineWidth: 2,\r\n          lineColor: '#f2849e',\r\n          shadowBlur: 2\r\n        }\r\n      }\r\n    },\r\n    created () {\r\n      this.$emit('setNav', '在线涂鸦画板')\r\n      \r\n    },\r\n    watch: {\r\n      \r\n    },\r\n    mounted () {\r\n      const canvas = document.querySelector('#canvas')\r\n      this.context = canvas.getContext('2d')\r\n      this.initDraw()\r\n      this.setCanvasStyle()\r\n      this.ImageToFXiangao()\r\n      // this.ImageToXiangao()\r\n\r\n      // window.addEventListener('',this.ImageToFXiangao())\r\n    },\r\n    beforeUpdate () {\r\n      // this.ImageToFXiangao()\r\n      // this.bus()\r\n    },\r\n    updated () {\r\n      // this.ImageToFXiangao()\r\n      // this.ImageToXiangao()\r\n      // this.ImageToTuya()\r\n    },\r\n    destroyed () {\r\n      // windowNaNpxoveEventListener('mousedown',this.ImageToTogeter)\r\n    },\r\n    computed: {\r\n      controls () {\r\n        return [{\r\n          title: '上一步',\r\n          action: 'prev',\r\n          img:require(\"../../static/graffiti/tools/prev.png\"),\r\n          className: this.preDrawAry.length ? 'active fa fa-reply' : 'fa fa-reply'\r\n        }, {\r\n          title: '下一步',\r\n          action: 'next',\r\n          img:require(\"../../static/graffiti/tools/next.png\"),\r\n          className: this.nextDrawAry.length ? 'active fa fa-share' : 'fa fa-share'\r\n        }\r\n        // , {\r\n        //   title: '清除',\r\n        //   action: 'clear',\r\n        //   className: (this.preDrawAry.length || this.nextDrawAry.length) ? 'active fa fa-trash' : 'fa fa-trash'\r\n        // }\r\n        ]\r\n      },\r\n    },\r\n    methods: {\r\n      isPc () {\r\n        const userAgentInfo = navigator.userAgent\r\n        const Agents = ['Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod']\r\n        let flag = true\r\n        for (let v = 0; v < Agents.length; v++) {\r\n          if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n            flag = false\r\n            break\r\n          }\r\n        }\r\n        return flag\r\n      },\r\n      gotof1(){\r\n        this.f1 = !this.f1;\r\n      },\r\n      gotosence(){\r\n      this.$router.push({path: '/board'});\r\n      },\r\n      getMsg() {\r\n        console.log('start listen dongle msg');\r\n        channel.addMsgReceiveListener({\r\n          onReceive: (res) => {\r\n            console.log('收到消息', res)\r\n            console.log('数据类型',res.content,typeof(res.content))\r\n            if(res.content === 'noget'){\r\n              // console.log(\"丢包再次发送图片\")\r\n              console.log(\"大屏没拿到数据\")\r\n              this.gotoliven()\r\n            }else if(res.content === 'get'){\r\n              console.log(\"大屏拿到了数据\")\r\n              // setTimeout(() => {\r\n              //   // this.$router.push({path: '/game',query: { fishId: 0, fishSkill: 0 }});\r\n              // }, 1800)\r\n            }\r\n          },\r\n        });\r\n        channel.enableTransferMessage({\r\n          success: (res) => {\r\n            // 设置成功\r\n            console.log('设置成功')\r\n          },\r\n        clientId: 'com.KK',\r\n        enable: 'true'\r\n        })\r\n      },\r\n      gotoliven(){\r\n        this.show = !this.show;\r\n        this.showcolor = false\r\n        this.showpen = false\r\n        this.f1 = false;\r\n        // const canvas = document.querySelector('#canvas')\r\n        const src = this.CutToDoogle()\r\n        // console.log(src)\r\n        account.getAccountInfo({\r\n          success(res) {\r\n            console.log(res.data)\r\n            let paramObj = {\r\n              Use: res.data,\r\n              imgUrl:src,\r\n              fish:{\r\n                fishId: 8,\r\n                fishSkill: 0\r\n              }\r\n            };\r\n            let paramStr = JSON.stringify(paramObj);\r\n            console.log(\"发送参数\", paramStr);\r\n            channel.sendMsg({\r\n              target: \"com.KK\",\r\n              content: paramStr,\r\n              success(res) {\r\n                console.log(\"获取用户信息\",res);\r\n                // this.result = \"发送成功\"; // 没有执行\r\n                // setTimeout(() => {\r\n                // //你要执行的事件\r\n                //   this.$router.push({path: '/game',query: { fishId: 8, fishSkill: 0 }});\r\n                // }, 1800)\r\n              },\r\n              fail(err) {\r\n                // 设备未登录，未连接或非同一局域网等\r\n                console.log(err,'错误')\r\n              }\r\n            });\r\n          }\r\n        })\r\n        this.getMsg()\r\n        setTimeout(() => {\r\n        //你要执行的事件\r\n          this.$router.push({path: '/game',query: { fishId: 8, fishSkill: 0 }});\r\n        }, 1800)\r\n      },\r\n      gotopen(){\r\n        this.showpen = !this.showpen;\r\n        this.showcolor = false\r\n        // this.show = false\r\n      },\r\n      gotocolor(){\r\n        this.showcolor = !this.showcolor;\r\n        this.showpen = false\r\n        // this.show = false\r\n      },\r\n      removeImg (src) {\r\n        this.imgUrl = this.imgUrl.filter(item => item !== src)\r\n      },\r\n      initDraw () {\r\n        const preData = this.context.getImageData(0, 0, 2000, 2000)\r\n        // 空绘图表面进栈\r\n        this.middleAry.push(preData)\r\n      },\r\n      canvasMove (e) {\r\n        if (this.canvasMoveUse) {\r\n          console.log('canvasMove')\r\n          const t = e.target\r\n          let canvasX\r\n          let canvasY\r\n          if (this.isPc()) {\r\n            canvasX = e.clientX - t.parentNode.offsetLeft\r\n            canvasY = e.clientY - t.parentNode.offsetTop\r\n          } else {\r\n            canvasX = e.changedTouches[0].clientX - t.parentNode.offsetLeft\r\n            canvasY = e.changedTouches[0].clientY - t.parentNode.offsetTop\r\n            \r\n          }\r\n          this.context.lineTo(canvasX, canvasY)\r\n          console.log(t.parentNode.offsetLeft,t.parentNode.offsetTop,canvasX)\r\n          this.context.stroke()\r\n          // this.ImageToXiangao()\r\n        }\r\n      },\r\n      beginPath (e) {\r\n        const canvas = document.querySelector('#canvas')\r\n        if (e.target !== canvas) {\r\n          let audio = this.$refs.shakeAudio;\r\n          audio.play();\r\n          console.log('beginPath')\r\n          this.context.beginPath()\r\n        }\r\n      },\r\n      // mouseup\r\n      canvasUp (e) {\r\n        console.log('canvasUp')\r\n        const preData = this.context.getImageData(0, 0, 2000, 2000)\r\n        if (!this.nextDrawAry.length) {\r\n          // 当前绘图表面进栈\r\n          this.middleAry.push(preData)\r\n        } else {\r\n          this.middleAry = []\r\n          this.middleAry = this.middleAry.concat(this.preDrawAry)\r\n          this.middleAry.push(preData)\r\n          this.nextDrawAry = []\r\n        }\r\n        this.canvasMoveUse = false\r\n        // this.ImageToFXiangao()\r\n        this.gotof1()\r\n        this.f1 = true;\r\n        this.showpen = false\r\n        this.showcolor = false\r\n      },\r\n      // mousedown\r\n      canvasDown (e) {\r\n        console.log('canvasDown')\r\n        this.canvasMoveUse = true\r\n        // client是基于整个页面的坐标\r\n        // offset是cavas距离顶部以及左边的距离\r\n        const canvasX = e.clientX - e.target.parentNode.offsetLeft\r\n        const canvasY = e.clientY - e.target.parentNode.offsetTop\r\n        console.log(canvasX,canvasY)\r\n        this.setCanvasStyle()\r\n        // 清除子路径\r\n        this.context.beginPath()\r\n        this.context.moveTo(canvasX, canvasY)\r\n        console.log('moveTo', canvasX, canvasY)\r\n        // 当前绘图表面状态\r\n        const preData = this.context.getImageData(0, 0, 2000, 2000)\r\n        // 当前绘图表面进栈\r\n        this.preDrawAry.push(preData)\r\n        // this.ImageToXiangao()\r\n        // console.log(preData)\r\n        // console.log(this.f1)\r\n        this.gotof1()\r\n        this.f1 = false;\r\n        this.showpen = false\r\n        this.showcolor = false\r\n      },\r\n      // 设置颜色\r\n      setColor (color) {\r\n        this.config.lineColor = color,\r\n        console.log(this.config.lineColor)\r\n        this.btnbgcolor = color\r\n        console.log(this.btnbgcolor)\r\n      },\r\n      // 设置笔刷大小\r\n      setBrush (type) {\r\n        this.config.lineWidth = type\r\n        console.log(this.config.lineWidth)\r\n        this.btnbgbrush = type\r\n        console.log(this.btnbgbrush)\r\n      },\r\n      // 操作\r\n      controlCanvas (action) {\r\n        switch (action) {\r\n          case 'prev':\r\n            if (this.preDrawAry.length) {\r\n              const popData = this.preDrawAry.pop()\r\n              const midData = this.middleAry[this.preDrawAry.length + 1]\r\n              this.nextDrawAry.push(midData)\r\n              this.context.putImageData(popData, 0, 0)\r\n            }\r\n            break\r\n          case 'next':\r\n            if (this.nextDrawAry.length) {\r\n              const popData = this.nextDrawAry.pop()\r\n              const midData = this.middleAry[this.middleAry.length - this.nextDrawAry.length - 2]\r\n              this.preDrawAry.push(midData)\r\n              this.context.putImageData(popData, 0, 0)\r\n            }\r\n            break\r\n          case 'clear':\r\n            this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height)\r\n            this.preDrawAry = []\r\n            this.nextDrawAry = []\r\n            this.middleAry = [this.middleAry[0]]\r\n            break\r\n        }\r\n      },\r\n      // 生成图片\r\n      getImage () {\r\n        // let self = this;\r\n        const canvas = document.querySelector('#canvas')\r\n        const src = canvas.toDataURL('image/png')\r\n        this.imgUrl.push(src)\r\n        if (!this.isPc()) {\r\n          // window.open(`data:text/plain,${src}`)\r\n          window.location.href = src\r\n        }        \r\n        // self.fileDown(imgUri,fileName);\r\n        console.log(this.context)\r\n      },\r\n      // fileDown(url, name) {\r\n      //   let self = this\r\n      //   let fileName = name\r\n      //   self.axios({\r\n      //     method: \"post\",\r\n      //     url: url,\r\n      //     responseType: \"blob\",\r\n      //   }).then(data => {\r\n      //     let blob = new Blob([data.data], { type: \"application/json\" });\r\n      //     if (window.navigator.msSaveOrOpenBlob) {\r\n      //       //msSaveOrOpenBlob方法返回bool值\r\n      //       navigator.msSaveBlob(blob); //本地保存\r\n      //     } else {\r\n      //       let link = document.createElement(\"a\"); //a标签下载\r\n      //       link.href = window.URL.createObjectURL(blob);\r\n      //       link.download = fileName;\r\n      //       link.click();\r\n      //       window.URL.revokeObjectURL(link.href);\r\n      //     }\r\n      //   });\r\n      // },\r\n\r\n      // 设置绘画配置\r\n      setCanvasStyle () {\r\n        this.context.lineWidth = this.config.lineWidth\r\n        this.context.shadowBlur = this.config.shadowBlur\r\n        this.context.shadowColor = this.config.lineColor\r\n        this.context.strokeStyle = this.config.lineColor\r\n      },\r\n      //将本地图片转化为Base64\r\n      // ImageToBase64() {\r\n      //   let files = document.getElementById('upImageFile').files[0];\r\n      //   var reader = new FileReader()\r\n      //   reader.readAsDataURL(files)\r\n      //   reader.onload = () => {\r\n      //     console.log('file 转 base64结果：' + reader.result)\r\n      //     this.iconBase64 = reader.result;\r\n      //   }\r\n      //   reader.onerror = function (error) {\r\n      //       console.log('Error: ', error)\r\n      //   }\r\n      // },\r\n      // onloadfn(){\r\n      //   console.log(\"1\")\r\n      //   // ImageToTogeter()\r\n      // },\r\n      \r\n      // canvas加载涂鸦\r\n      ImageToTuya(){\r\n        var canvas = document.querySelector('#canvas')\r\n        // var img1 = this.$refs.conf1;\r\n        var img1 = new Image();\r\n        img1.src = canvas.toDataURL('image/png')\r\n        var ctx=canvas.getContext(\"2d\");\r\n        var w = this.windowHeight*(2920/1760);\r\n        var h = this.windowHeight;\r\n        if(w>this.windowWidth){\r\n          h = this.windowWidth*this.windowHeight/w\r\n          w = this.windowWidth\r\n        }\r\n        console.log(img1,w,h)\r\n        // img1.onload = function () {\r\n          ctx.drawImage(img1, 0, 0, w, h);//涂鸦图\r\n          console.log(\"涂鸦加载\")\r\n          // console.log(ctx)\r\n          // 再次绘制\r\n          // ctx.drawImage(img, 0, 0, 370, 262);\r\n          // 回调\r\n          // console.log(canvas.toDataURL('image/png'));\r\n        // };\r\n      },\r\n      // canvas加载线稿\r\n      ImageToXiangao(){\r\n        var canvas = document.querySelector('#canvas')\r\n        var ctx=canvas.getContext(\"2d\");\r\n        var img = this.$refs.conf0;//线稿图\r\n        var w = this.windowHeight*(2920/1760);\r\n        var h = this.windowHeight;\r\n        if(w>this.windowWidth){\r\n          h = this.windowWidth*this.windowHeight/w\r\n          w = this.windowWidth\r\n        }\r\n        console.log(img,w,h)\r\n        // img.onload = function () {\r\n          ctx.drawImage(img, 0, 0, w, h);//线稿图\r\n          console.log(\"线稿加载\")\r\n          // console.log(ctx)\r\n          // 再次绘制\r\n          // ctx.drawImage(img, 0, 0, 370, 262);\r\n          // 回调\r\n          // console.log(canvas.toDataURL('image/png'));\r\n        // };\r\n      },\r\n      //裁切线稿输出doogle\r\n      CutToDoogle(){\r\n        var canvas = document.querySelector('#canvas')\r\n        var ctx=canvas.getContext(\"2d\");\r\n        var W = this.windowWidth;\r\n        var H = this.windowHeight;\r\n        if(H>W){\r\n          var w = W*(2920/1760);\r\n          var h = W;\r\n          var x = ((H-w)/2);\r\n          var y = (W-h)/2;\r\n          \r\n        }else{\r\n          var w = H*(2920/1760);\r\n          var h = H;\r\n          var x = (W-w)/2;\r\n          var y = (H-h)/2;\r\n        }\r\n        console.log(x, y, w, h)\r\n        var dataImg = ctx.getImageData(x, y, w, h);\r\n        for(var i = 0; i < dataImg.data.length; i += 4) {\r\n            // 当该像素是透明的，则设置成白色\r\n            if(dataImg.data[i + 3] <= 100) {\r\n                dataImg.data[i] = 255;\r\n                dataImg.data[i + 1] = 255;\r\n                dataImg.data[i + 2] = 255;\r\n                dataImg.data[i + 3] = 255; \r\n            }\r\n        }\r\n        var canvas2 = document.createElement(\"canvas\");\r\n        var context2 = canvas2.getContext(\"2d\");\r\n        var width = w;\r\n        var height = h;\r\n        canvas2.width = width;\r\n        canvas2.height = height;\r\n        context2.putImageData(dataImg, 0, 0, 0, 0, width, height);\r\n        var res = canvas2.toDataURL('image/png');\r\n        console.log(res);\r\n        return res\r\n      },\r\n      // canvas第一次加载线稿\r\n      ImageToFXiangao(){\r\n        var canvas = document.querySelector('#canvas')\r\n        var ctx=canvas.getContext(\"2d\");\r\n        var img = this.$refs.conf0;//线稿图\r\n        var W = this.windowWidth;\r\n        var H = this.windowHeight;\r\n        // var w = H*(2920/1760);\r\n        // var h = H;\r\n        // var x = (W-w)/2;\r\n        // var y = (H-h)/2;\r\n        if(H>W){\r\n          var w = W*(2920/1760);\r\n          var h = W;\r\n          var x = ((H-w)/2);\r\n          var y = (W-h)/2;\r\n          \r\n        }else{\r\n        var w = H*(2920/1760);\r\n        var h = H;\r\n        var x = (W-w)/2;\r\n        var y = (H-h)/2;\r\n        }\r\n        console.log(img,w,h,x,y)\r\n        // ctx.globalCompositeOperation=\"destination-over\";  \r\n        // ctx.globalCompositeOperation=\"source-over\";\r\n        img.onload = function () {\r\n          ctx.drawImage(img, x, y, w, h);//线稿图\r\n        //   ctx.rotate(-Math.PI/2);\r\n        //   ctx.translate(-375,0)\r\n          // var imgData=ctx.getImageData(0, 0, W, H);\r\n          // console.log(imgData)\r\n          // console.log(ctx)\r\n          // 再次绘制\r\n          // ctx.drawImage(img, 0, 0, 370, 262);\r\n          // 回调\r\n          // var dataImg = ctx.getImageData(x, y, w, h);\r\n          // var canvas2 = document.createElement(\"canvas\");\r\n          // var context2 = canvas2.getContext(\"2d\");\r\n          // var width = w;\r\n          // var height = h;\r\n          // canvas2.width = width;\r\n          // canvas2.height = height;\r\n          // context2.putImageData(dataImg, 0, 0, 0, 0, width, height);\r\n          // var res = canvas2.toDataURL('image/jpeg');\r\n          // return res;\r\n          // console.log(canvas2.toDataURL('image/jpeg'));\r\n        };\r\n          console.log(\"第一次线稿加载\")\r\n      },\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xaiochouyu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xaiochouyu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Xaiochouyu.vue?vue&type=template&id=009372e9&\"\nimport script from \"./Xaiochouyu.vue?vue&type=script&lang=js&\"\nexport * from \"./Xaiochouyu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Xaiochouyu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Xaiochouyu.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}